<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>PRODUCT LANDING PAGE</title>
    <link rel="stylesheet" href="/style.css">
    <link rel="icon" href="/fav.png" type="image/png">
</head>
<body>

    <script>
        function integrateElement(tag, content, parent) {
            let element = document.createElement(tag)
            element.innerText = content
            parent.append(element)
        }

        function renderProductData(json){
            let body = document.body

            integrateElement('h1', json.title, body)
            
            let img = document.createElement('img')
            img.src = '/jsbook.png'
            body.append(img)

            integrateElement('h2', json.subtitle, body)
            integrateElement('p', json.description, body)
            integrateElement('p', json.price.amount, body)
            integrateElement('p', json.price.currency, body)
        }

        function mix(array) {
            for (let i = array.length - 1; i > 0; i--) {
                const x = Math.floor(Math.random() * (i + 1));
                [array[i], array[x]] = [array[x], array[i]];
            }
            return array;
        }

        fetch('/api/product')
            .then(response => response.json())
            .then(json => renderProductData(json))
    </script>
</body>
</html>